# Getting Started

This section will describe how to use the framework, and what prerequisites are needed. To get started read below how you should build the framework. When you can build successfully you can simply start adding your own code in `main.c` which contains the familiar `setup()` and `loop()` functions. 

## Building the Framework

To use this framework as is, it is recommended to use PlatformIO to build from source. In `platformio.ini`, three different python scripts are listed as `pre:` scripts, meaning these will be executed before every build.

```
build/preBuildHTML.py
build/preBuildConfig.py
build/preBuildCertificates.py 
```

You can choose to comment these scripts, since all default artefacts generated by these are committed in this GitHub repo, so that these pre-build steps are optional.

### preBuildHTML.py

This pre-build step will re-generate the web interface to `html.h` by simply calling `npm run build`. Read more details [here](https://github.com/maakbaas/esp8266-iot-framework/blob/master/docs/getting-started.md#editing-the-web-interface).

### preBuildConfig.py

This build step generates the `config.c` and `config.h` files for the configuration manager based on `html/js/configuration.js` as described in more detail [here](https://github.com/maakbaas/esp8266-iot-framework/blob/master/docs/config-manager.md).

### preBuildCertificates.py

This build step generates `certificates.h` containing a full root certificate store to enable arbitrary HTTPS requests with the ESP8266. More info on this process can be found [here](https://github.com/maakbaas/esp8266-iot-framework/blob/master/docs/fetch.md).

For this step OpenSSL is needed. On Linux this is probably availble by default, on Windows this comes as part of something like MinGW, or Cygwin, but is also installed with the Windows Git client. If needed you can edit the path to OpenSSL at the top of the file:

```python
#path to openssl
openssl = "C:\\msys32\\usr\\bin\\openssl" 
```

## Editing the web interface

The web interface is contained in the `HTML` folder, and is developed using React and Webpack. To modify the provided interface you need to be familiar with these tools and have [NPM](https://www.npmjs.com/get-npm) installed. Of course you can also start your own GUI completely from scratch.

To start developing you can run `npm run dev` to start a Webpack Dev Server. The API urls will be adjusted automatically when developing off the device. To get this working you will need to edit the IP address at the top of `html/js/index.js`.

```javascript
if (process.env.NODE_ENV === 'production')
    var url = window.location.origin;
else
    var url = 'http://192.168.1.54';
```
The command `npm run build` will generate a `html.h` file which contains the full bundle as a PROGMEM byte array to be included when building and flashing the framework to the ESP8266.
